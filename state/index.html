<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>React State(状态)</title>
    <script src="https://cdn.bootcss.com/react/15.4.2/react.min.js"></script>
    <script src="https://cdn.bootcss.com/react/15.4.2/react-dom.min.js"></script>
    <script src="https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js"></script>
</head>
<body>
<div id="example"></div>
<script type="text/babel">
    // 组件类(首字母大写且只能包含一个顶层标签)
    let LikeButton = React.createClass({
        // 这个方法名称是已经定义好的，不能改名称。用于定义初始状态
        getInitialState: function() {
            return {liked: false};
        },
        handleClick: function(event) {
            // state的值发生变化，自动调用this.render方法渲染

            // 1
            // this.setState({liked: !this.state.liked});

            // 2 函数
            this.setState(function (prevState,props) {
                return {
                    liked: !prevState.liked
                }
            });

            // 3 箭头函数
            // this.setState((prevState, props) => ({
            //     return {
            //         liked: !prevState.liked
            //     }
            // }));
        },
        render: function() {
            let text = this.state.liked ? '喜欢' : '不喜欢';
            return (
                <p onClick={this.handleClick}>
                    你<b>{text}</b>我。点我切换状态。
                </p>
            );
        }
    });

    ReactDOM.render(
        <LikeButton />,
        document.getElementById('example')
    );
</script>
</body>
</html>